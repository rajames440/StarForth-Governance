////
Engineering Change Request (ECR) Process

Document Metadata:
- Document ID: 01-ECR_PROCESS
- Version: 1.0.0
- Created: 2025-10-30T00:00:00Z
- Purpose: Define ECR submission and evaluation process for new features
- Scope: ECR template, submission requirements, PM review criteria
- Document Type: Process Definition
- Part of: GOVERNANCE_REFERENCE_MANUAL.adoc (Chapter 1)
////

= Chapter 1: Engineering Change Request (ECR) Process

**Document ID:** 01-ECR_PROCESS
**Version:** 1.0.0
**Status:** Active
**Last Updated:** October 30, 2025
**Owner:** Robert A. James (PM)

---

== Chapter Overview

An **Engineering Change Request (ECR)** is a formal proposal for a new feature, enhancement, or architectural change to StarForth. ECRs are differentiated from **CAPAs** (which fix defects):

- **ECR** = NEW feature or enhancement (forward-looking)
- **CAPA** = DEFECT fix or preventive action (backward-looking, fixes existing issues)

This chapter defines the ECR submission process, evaluation criteria, and transition to Engineering Change Order (ECO).

---

== ECR Lifecycle

```
┌────────────────────────────────────┐
│ STEP 1: ECR SUBMISSION             │
│ • Developer/user submits ECR issue  │
│ • Status: SUBMITTED                │
└────────────┬───────────────────────┘
             │
             ├─→ PM Acceptance Gate (7-day SLA)
             │
┌────────────▼───────────────────────┐
│ STEP 2: PM REVIEW & EVALUATION    │
│ • PM evaluates feasibility         │
│ • Check against quality policy     │
│ • Determine if FMEA needed        │
│ • Status: UNDER REVIEW            │
└────────────┬───────────────────────┘
             │
      ┌──────┴──────┐
      │             │
   ✅ APPROVED   ❌ REJECTED
      │             │
      │         Status: REJECTED
      │         (Return to requester)
      │             │
      │             └─→ END
      │
┌─────▼──────────────────────────────┐
│ STEP 3: ECR APPROVED               │
│ • Create ECO issue (ECO-YYYY-###)  │
│ • Add to backlog                   │
│ • Ready for implementation         │
│ • Status: APPROVED → ECO CREATED   │
└────────────────────────────────────┘
```

---

== ECR Submission Requirements

=== Who Can Submit?

- **Internal:** StarForth developers, stakeholders
- **External:** Community contributors via GitHub Issues
- **Requirement:** Clear description of desired feature/change

=== ECR Issue Template

When creating an ECR GitHub issue, use this template:

```markdown
## ECR: {Feature Name}

### 1. What is the requested change?
Brief description of the new feature or enhancement.

### 2. Why is this change needed?
- User pain point
- Market demand
- Technical debt reduction
- Performance improvement
- Security enhancement

### 3. What problem does it solve?
Describe the specific problem this feature addresses.

### 4. Acceptance Criteria
How will we know this feature is "done"?
- [ ] Acceptance criterion 1
- [ ] Acceptance criterion 2
- [ ] Acceptance criterion 3

### 5. Theory Justification (If Applicable)
If this feature affects formal verification:
- Does it modify any formally-verified code? (Yes/No)
- Attach *.thy file OR explain why formal verification is not applicable
- OR state: "N/A - Feature doesn't touch verified code"

### 6. Implementation Approach (Optional)
Suggested approach (implementation team will refine):
- Option A: {Brief description}
- Option B: {Brief description}

### 7. Effort Estimate (Optional)
Rough estimate of development effort:
- Small (< 1 day)
- Medium (1-3 days)
- Large (> 3 days)

### 8. Dependencies
- Other issues/features this depends on
- External dependencies
- Blocking items

### 9. Proposed Backlog Priority
- Critical (block release)
- High (next sprint)
- Medium (within quarter)
- Low (future consideration)
```

=== ECR Naming Convention

**GitHub Issue:** ECR-YYYY-### (auto-assigned by PM after approval)

Example: `ECR-2025-001: Add MYWORD Arithmetic Operation`

---

== PM Review Criteria (7-Day SLA)

The PM (you) evaluates each ECR using this decision matrix:

=== Approval Checklist

```
ECR: {Name}
Reviewer: Robert A. James (PM)
Review Date: {Date}
Decision Deadline: {Date + 7 days}

EVALUATION CRITERIA
═══════════════════════════════════════════════════════════════

☐ 1. ALIGNMENT WITH QUALITY POLICY
   Does this feature support StarForth quality objectives?
   - Maintains ≥99% test pass rate? ☐
   - Maintains ≥85% code coverage? ☐
   - Doesn't introduce security vulnerabilities? ☐
   - No performance regression >10%? ☐
   STATUS: ☐ YES ☐ NO ☐ CONDITIONAL

☐ 2. SCOPE & FEASIBILITY
   Is scope well-defined and achievable?
   - Clear acceptance criteria? ☐
   - Effort estimate reasonable? ☐
   - No blocking dependencies? ☐
   - Resource availability confirmed? ☐
   STATUS: ☐ YES ☐ NO ☐ CLARIFICATION NEEDED

☐ 3. VERIFIED CODE IMPACT
   Does this affect formally-verified code (Isabelle)?
   - Touches verified FORTH-79 core words? ☐
   - Modifies memory operations (@, !)? ☐
   - Changes control flow primitives? ☐
   - Changes stack semantics? ☐

   IF YES: Theory justification required
   - Is *.thy file provided? ☐
   - Is formal proof of new feature complete? ☐
   STATUS: ☐ NO IMPACT ☐ THEORY PROVIDED ☐ THEORY MISSING

☐ 4. QUALITY CHARACTERISTICS (ISO 25010)
   Review against 8 quality characteristics:
   - Functional suitability (completeness, correctness)? ☐
   - Performance efficiency (regression, memory)? ☐
   - Compatibility (L4Re, multi-platform)? ☐
   - Usability (documentation, error messages)? ☐
   - Reliability (test coverage, error handling)? ☐
   - Security (no vulnerabilities, safe input)? ☐
   - Maintainability (code complexity, modularity)? ☐
   - Portability (x86_64, ARM64)? ☐
   STATUS: ☐ MEETS ALL ☐ MEETS MOST ☐ CONCERNS

☐ 5. ARCHITECTURE FIT
   Does feature fit StarForth architecture?
   - Aligns with FORTH-79 standard? ☐
   - Integrates with L4Re cleanly? ☐
   - No fundamental redesign required? ☐
   - Backward compatible? ☐
   STATUS: ☐ FITS WELL ☐ MINOR ADJUSTMENT ☐ MAJOR REDESIGN

☐ 6. RISK ASSESSMENT
   Is there identified risk requiring FMEA?
   - Complex algorithm requiring formal analysis? ☐
   - Security-sensitive operation? ☐
   - Memory management changes? ☐
   - Affects verified code with complex proofs? ☐
   STATUS: ☐ LOW RISK ☐ MEDIUM RISK (FMEA optional) ☐ HIGH RISK (FMEA required)

DECISION
═══════════════════════════════════════════════════════════════

☐ ✅ APPROVED - Create ECO
   Next action: PM creates ECO-YYYY-### issue

☐ ✅ APPROVED WITH CONDITIONS - Create ECO with conditions noted
   Conditions: {List specific requirements}

☐ ❌ REJECTED - Return to requester for revision
   Reason: {Specific explanation}
   Resubmit as: New ECR with revisions

☐ ❌ REJECTED - Defer to future consideration
   Reason: {Specific explanation}
   Can resubmit after: {Condition}

PM Signature: Robert A. James
Date: {Date}
═══════════════════════════════════════════════════════════════
```

---

== Approval/Rejection Paths

=== APPROVED Path

**Decision:** ✅ ECR Approved

**PM Actions:**
1. Create ECO issue (`ECO-YYYY-###`)
2. Add ECR-YYYY-### reference to ECO
3. Add to backlog with priority
4. Comment on ECR: "✅ Approved - See ECO-YYYY-###"
5. Status: ECR → ECO (Chapter 2: ECO_PROCESS.adoc)

**Timeline:** ECO created within 1 business day

=== REJECTED Path

**Decision:** ❌ ECR Rejected

**PM Actions:**
1. Comment on ECR with specific rejection reason
2. Provide guidance for resubmission (if applicable)
3. Close ECR or leave open for discussion
4. Status: ECR → REJECTED (closed or waiting for revision)

**Possible Rejection Reasons:**
- Out of scope for StarForth (belongs to StarshipOS)
- Conflicts with FORTH-79 standard
- Requires unacceptable performance trade-off
- Security risk that cannot be mitigated
- Blocked by other pending changes
- Resource constraints (defer to future)

**Resubmission:** Requester can revise and resubmit as new ECR

---

== ECR → ECO Transition

When ECR is approved, PM creates a companion **ECO (Engineering Change Order)** issue.

**Relationship:**
```
ECR-2025-001: "Add MYWORD arithmetic"
    ↓ (PM approves & creates)
ECO-2025-001: "Implement MYWORD with formal verification"
    ↓ (Ready for implementation, testing, release)
Developer creates PR linked to ECO
    ↓ (PR implements feature)
GitHub Actions validates (devL → test → qual)
    ↓ (All stages pass)
PM approves release
    ↓ (Version tag created)
CAPA (if defect found) or archived
```

See **Chapter 2: ECO_PROCESS.adoc** for approval and backlog entry workflow.

---

== Documentation & Templates

=== ECR Issue Checklist

When reviewing an ECR submission, verify:

```
ECR SUBMISSION CHECKLIST
═══════════════════════════════════════════════════════════════

☐ Issue title follows format: "ECR: {Feature Name}"
☐ Description section filled (What is requested?)
☐ Motivation section filled (Why is it needed?)
☐ Problem statement clear (What does it solve?)
☐ Acceptance criteria defined (How is it "done"?)
☐ Theory justification provided OR marked N/A
☐ Implementation approach described (optional but helpful)
☐ Effort estimate provided (optional)
☐ Dependencies listed
☐ Priority suggested
☐ Issue assigned to PM for review

STATUS:
☐ Complete - Ready for PM review
☐ Incomplete - Request clarification from submitter
☐ Duplicate - Link to existing issue
```

---

== Quality Policy Alignment

Every approved ECR must support QUALITY_POLICY.adoc objectives:

[cols="1,2,3"]
|===
|Quality Objective |ECR Impact |Verification

|**≥99% Test Pass Rate** |ECR includes test cases for new feature |Tests pass in GitHub Actions
|**≥85% Code Coverage** |ECR implementation maintains coverage |Coverage report in PR
|**100% Lemmas Proven** |ECR includes Isabelle proofs (if verified code) |Formal proof in qual stage
|**Zero Security CVEs** |ECR doesn't introduce vulnerabilities |Security review in code review
|**≤10% Performance Regression** |ECR doesn't degrade performance >10% |Benchmark comparison
|===

---

== Common ECR Scenarios

=== Scenario 1: New FORTH Word

**Example:** "Add MYWORD arithmetic operation"

**ECR Template Applied:**
- What: New FORTH word called MYWORD
- Why: User requested arithmetic operation
- Acceptance: Word compiles, tests pass, documented
- Theory: Includes Isabelle proof of correctness
- Effort: Small (1 day)
- Priority: Medium

**PM Decision:** ✅ APPROVED if theory provided

---

=== Scenario 2: Performance Optimization

**Example:** "Optimize block storage I/O performance"

**ECR Template Applied:**
- What: Reduce block read/write latency
- Why: Users report slow disk operations
- Acceptance: <10% regression maintained, latency <100ms
- Theory: Doesn't affect verified code; N/A
- Effort: Medium (2-3 days)
- Priority: High

**PM Decision:** ✅ APPROVED if benchmarks show improvement

---

=== Scenario 3: Architecture Change

**Example:** "Port StarForth to seL4 (Phase 2)"

**ECR Template Applied:**
- What: Change from L4Re to seL4 microkernel
- Why: Phase 2 requires formal verification of entire stack
- Acceptance: Boots on seL4, all tests pass, formally verified
- Theory: Complete seL4 formal model required
- Effort: Large (weeks)
- Priority: Critical (Phase 2 requirement)

**PM Decision:** ❌ DEFER to Phase 2 (out of scope for Phase 1)

---

== Escalation Path

If PM cannot make decision within 7 days:

1. **Request Clarification** (Day 3)
   - Comment on ECR with specific questions
   - Extended deadline: 7 more days

2. **Escalate to Architecture Review Board** (Day 10)
   - If complex design decision needed
   - ARB decision final
   - Update ECR with decision

3. **Defer to Next Planning Cycle** (Day 14)
   - If timing/resource issues prevent decision
   - Mark as "Deferred for planning cycle X"
   - Revisit in next sprint planning

---

== Compliance References

This ECR process aligns with:

- **ISO 9001:2015** § 8.3.3 (Control of externally provided processes)
- **ISO/IEC 12207:2017** § 6.2 (Acquisition and supply processes)
- **IEC 62304:2015** § 7.1 (Software development planning)

---

== Change History

[cols="1,2,3"]
|===
|Version |Date |Changes

|1.0.0 |2025-10-30 |Initial ECR process definition with submission requirements, PM review criteria (7-day SLA), and approval/rejection paths
|===

---

**Next:** Chapter 2 - ECO_PROCESS.adoc (ECR → ECO approval and backlog entry)

**Related:**
- QUALITY_POLICY.adoc - Quality objectives ECRs must support
- QUALITY_CHARACTERISTICS.adoc - ISO 25010 criteria for ECR evaluation
- Chapter 2 - ECO_PROCESS.adoc - Follow-on process after ECR approval

---

**Maintained by:** Robert A. James (PM)
**Last Updated:** October 30, 2025
**Status:** ACTIVE - Ready for immediate use

== Approvals & Signature

[cols="2,3,2,2", options="header"]
|===
| Role | Name | Date | Signature
| Product Manager | Robert A. James | ________ | ________________
| QA Lead | [Name or N/A] | ________ | ________________
| Governance | [Name or N/A] | ________ | ________________
|===

**Status:** [SIGNATURE REQUIRED]
**Instructions:** Enter today's date and your esignature in the "Signature" column.
Format: `/s/ Robert A. James` or your handwritten signature if printed.

